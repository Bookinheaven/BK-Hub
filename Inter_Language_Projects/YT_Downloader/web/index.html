<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YTDownloader</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./assets/icon/icon.ico" type="image/x-icon">
</head>
<body>
    <div id="loader-wrapper" class="hidden">
        <div class="loader" role="status" aria-label="Loading..."></div>
    </div>
    
    <main class="container">
        <h1 class="main-title">YTDownloader</h1>

        <section class="input-group" aria-labelledby="urls-label">
            <label id="url-label" for="urls-input" class="input-label">Enter YouTube URL(s):</label>
            <div class="flex-row">
                <textarea id="urls-input" placeholder="Enter one or more YouTube URLs, each on a new line." aria-describedby="status-message"></textarea>
                <button id="fetch-button" aria-controls="metadata-container options-group download-button">
                    Fetch
                </button>
            </div>
        </section>

        <section id="metadata-container" class="metadata-container hidden" aria-hidden="true">
            <div class="metadata-card">
                <div class="thumbnail-wrapper">
                    <img id="thumbnail-preview" src="" alt="Video thumbnail preview" class="thumbnail" loading="lazy">
                    <div class="cover-editor">
                        <label for="cover-upload" class="form-label">Change Cover:</label>
                        <input type="file" id="cover-upload" accept="image/jpeg, image/png">
                    </div>
                </div>
                <div class="metadata-editor">
                    <h2 class="section-title">Edit Metadata</h2>
                    
                    <div class="form-group">
                        <div>
                            <label for="title-input" class="form-label">Title:</label>
                            <input type="text" id="title-input" aria-label="Video Title">
                        </div>
                        <div>
                            <label for="artist-input" class="form-label">Artist:</label>
                            <input type="text" id="artist-input" aria-label="Video Artist">
                        </div>
                        <div>
                            <label for="album-input" class="form-label">Album:</label>
                            <input type="text" id="album-input" aria-label="Video Album">
                        </div>
                        <div>
                            <label for="genre-input" class="form-label">Genre:</label>
                            <input type="text" id="genre-input" aria-label="Video Genre" list="genre-suggestions" autocomplete="off">
                        </div>
                        <div class="custom-number-input-wrapper">
                            <label for="year-input" class="form-label">Year:</label>
                            <div class="custom-number-input">
                                <input type="number" id="year-input" aria-label="Video Year" min="1900" max="2100" step="1" pattern="\d{4}" placeholder="YYYY" class="styled-number-input">
                                <div class="custom-arrows">
                                    <button type="button" class="arrow up" tabindex="-1" aria-label="Increase"></button>
                                    <button type="button" class="arrow down" tabindex="-1" aria-label="Decrease"></button>
                                </div>
                            </div>
                        </div>
                        <div class="custom-number-input-wrapper">
                            <label for="track-input" class="form-label">Track #:</label>
                            <div class="custom-number-input">
                                <input type="number" id="track-input" aria-label="Track Number" class="styled-number-input">
                                <div class="custom-arrows">
                                    <button type="button" class="arrow up" tabindex="-1" aria-label="Increase"></button>
                                    <button type="button" class="arrow down" tabindex="-1" aria-label="Decrease"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="options-group" class="options-group hidden" aria-hidden="true">
            <div class="flex-row">
                <div class="option-item">
                    <label for="format-selector" class="form-label">Format:</label>
                    <select id="format-selector" aria-label="Select Download Format">
                        <option value="mp3">MP3</option>
                        <option value="m4a" selected>M4A</option>
                        <option value="flac">FLAC</option>
                        <option value="wav">WAV</option>
                        <option value="opus">Opus</option>
                        <option value="aac">AAC</option>
                        <option value="vorbis">Vorbis</option>
                        <option value="alac">ALAC</option>
                        <option value="webm">WebM</option>
                    </select>
                </div>
                <div class="option-item">
                    <label for="bitrate-selector" class="form-label">Bitrate:</label>
                    <select id="bitrate-selector" aria-label="Select Audio Bitrate">
                        <option value="128k">128k</option>
                        <option value="192k" selected>192k</option>
                        <option value="256k">256k</option>
                        <option value="320k">320k</option>
                    </select>
                </div>
                <div class="option-item">
                    <label for="save-folder-input" class="form-label">Save Folder:</label>
                    <div class="flex-row">
                        <input type="text" id="save-folder-input" readonly aria-label="Selected save folder path">
                        <button id="browse-button" class="browse-button" title="Browse for a folder">
                            Browse
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <section class="download-section">
            <div id="progress-bar-container" class="progress-bar-container hidden" aria-hidden="true">
                <div id="progress-bar" class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <p id="status-message" class="status-message" role="status" aria-live="polite">
                Music is freedom, Dude!
            </p>
            <button id="download-button" class="download-button hidden" disabled aria-disabled="true">
                Download
            </button>
        </section>

        <section id="download-log-section" class="hidden">
            <h2 class="section-title">Download Log</h2>
            <div id="download-log-container" class="download-log-container">
                </div>
        </section>
    </main>
    
    <div id="live-downloads-container" class="live-downloads-container hidden">
        <h2 class="live-downloads-title">Downloading...</h2>
        <div id="download-cards-container" class="download-cards-container">
        </div>
    </div>
    
    <script type="text/javascript" src="/eel.js"></script>
    <script type="text/javascript" src="script.js"></script>
</body>
</html>